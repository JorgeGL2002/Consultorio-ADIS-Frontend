# Usa una imagen ligera de Nginx para servir archivos estáticos
FROM nginx:alpine

# Directorio de trabajo en el contenedor
WORKDIR /usr/share/nginx/html

# Copia TODOS los archivos estáticos (HTML, CSS, JS, imágenes)
COPY . .

# Mueve los archivos estáticos a la raíz de Nginx (opcional, si necesitas estructura específica)
RUN mv public/imagenes . && \
    mv crear_cuenta.html . && \
    mv index.html . && \
    mv recuperar_contraseña.html .

# Configura Nginx para evitar errores 403 (directorio listing)
RUN echo "server { listen 80; server_name localhost; root /usr/share/nginx/html; index index.html; }" > /etc/nginx/conf.d/default.conf

# Puerto expuesto
EXPOSE 80

# Comando para iniciar Nginx
CMD ["nginx", "-g", "daemon off;"]